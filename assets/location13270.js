import{y as i,V as l,B as r}from"../index13270.js";class a{static async fetchAll(){return(await i("/admin/locations")).data}static async downloadReport(t){const n=t.location_permalink;return delete t.location_peramlink,await l(`/ticket_office/${n}/orders/report`,t)}}const s=localStorage.getItem("location"),c=localStorage.getItem("locations"),p=s?JSON.parse(s):null,d=c?JSON.parse(c):null,S=r({id:"location",state:()=>({location:p,locations:d,response_locations:{}}),getters:{allLocations:o=>o.locations,responseLocations:o=>o.response_locations,getTotalLocations:o=>o.response_locations?o.response_locations.total:0,getCurrentLocation:o=>o.location},actions:{async fetchAllLocations(){await a.fetchAll().then(o=>{this.response_locations=o,this.locations=o.banners,localStorage.setItem("locations",JSON.stringify(o.banners)),localStorage.setItem("location",JSON.stringify(o.banners[0]))})},updateCurrenLocation(o){this.location=o,localStorage.setItem("location",JSON.stringify(o))},async downloadReport(o){await a.downloadReport(o).then(t=>{const n=new Blob([t.data],{type:t.headers["content-type"]}),e=document.createElement("a");e.href=window.URL.createObjectURL(n),e.download="Report-"+o.location_permalink+".xlsx",e.click()})}}});export{S as u};

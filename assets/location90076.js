import{y as i,V as l,B as r}from"../index90076.js";class n{static async fetchAll(){return(await i("/admin/locations")).data}static async downloadReport(t){return await l(`/admin/locations/${t.location_id}/orders/report`,t)}}const s=localStorage.getItem("location"),c=localStorage.getItem("locations"),d=s?JSON.parse(s):null,p=c?JSON.parse(c):null,S=r({id:"location",state:()=>({location:d,locations:p,response_locations:{}}),getters:{allLocations:o=>o.locations,responseLocations:o=>o.response_locations,getTotalLocations:o=>o.response_locations?o.response_locations.total:0,getCurrentLocation:o=>o.location},actions:{async fetchAllLocations(){await n.fetchAll().then(o=>{this.response_locations=o,this.locations=o.banners,localStorage.setItem("locations",JSON.stringify(o.banners)),localStorage.setItem("location",JSON.stringify(o.banners[0]))})},updateCurrenLocation(o){this.location=o,localStorage.setItem("location",JSON.stringify(o))},async downloadReport(o){await n.downloadReport(o).then(t=>{const a=new Blob([t.data],{type:t.headers["content-type"]}),e=document.createElement("a");e.href=window.URL.createObjectURL(a);debugger;e.download="Report-"+o.location_permalink+".xlsx",e.click()})}}});export{S as u};

import{y as o,z as d,U as n,B as i}from"../index87425.js";class a{static async fetchAll(r){const t=r.get("location_id");return r.delete("location_id"),(await o(`/admin/locations/${t}/orders`,r)).data}static async fetchAllReveliaOrders(r){return(await o("/admin/orders",r)).data}static async deleteOrder(r){return await d(`/admin/orders/${r.order_id}/events/${r.event_id}/cancel`)}static async downloadOrderPDF(r){return await n(`/admin/orders/${r.order_id}/events/${r.event_id}/download`)}static async downloadOrderCsv(r){return await n(`/admin/orders?format=csv&attraction_id=${r}`)}}const c=i({id:"order",state:()=>({order:{},orders:[],response_orders:{},total_orders:Number,calendar:{},discount:{},response:{}}),getters:{allOrders:e=>e.response_orders.orders,responseOrders:e=>e.response_orders,getTotalOrders:e=>e.response_orders?e.response_orders.total:0,getCurrentOrder:e=>e.order,status:()=>[{name:"Attivo",value:"true"},{name:"Disattivo",value:"false"}],getCalendar:e=>e.calendar,getDiscount:e=>e.discount,paymentStatus:()=>[{id:"to_pay",name:"Da pagare"},{id:"payed",name:"Pagato"},{id:"free",name:"Gratuito"}],paymentModeList:()=>[{label:"Digitale (POS)",id:"credit_card"},{label:"Digitale (Satispay)",id:"satispay"},{label:"Ecommerce",id:"ecommerce"},{label:"Contanti",id:"cash"},{label:"Bonifico",id:"credit_transfer"},{label:"Biglietto a data aperta (voucher)",id:"voucher"}],getDeleteResponse:e=>e.response},actions:{async fetchAllOrders(e){await a.fetchAll(e).then(r=>this.response_orders=r)},async fetchAllReveliaOrders(e){await a.fetchAllReveliaOrders(e).then(r=>this.response_orders=r)},async deleteOrder(e){await a.deleteOrder(e)},async downloadOrderPDF(e){await a.downloadOrderPDF(e).then(r=>{const t=new Blob([r.data],{type:"application/pdf"}),s=URL.createObjectURL(t);window.open(s,"_blank")})},async downloadOrderCsv(e){await a.downloadOrderCsv(e).then(r=>{const t=new Blob([r.data],{type:"text/csv;charset=utf-8"}),s=URL.createObjectURL(t);window.open(s,"_blank")})}}});export{c as u};

import{D as u}from"./datetime71052.js";import{u as F,e as k}from"./helpers71052.js";import{u as D}from"./dashboard71052.js";import{d as M,o as A,l as g,a as w,c as V,_ as B,r as f,b as a,e as s,g as n,f as i,q as C,w as t,h as d,t as l}from"../index71052.js";const S=M({setup(){A(()=>{o.value.date=u.now().setLocale("it").toFormat("MMMM/yyyy").replace(/^\w/,e=>e.toUpperCase()),h()});const o=g({}),r=D(),{showLoader:v,hideLoader:p}=F(),y=w(),b=V(()=>r.allDashboards),h=async function(){v();let e="",c="";if(o.value.date&&o.value.date.toString().includes("/")){let _=u.fromFormat(o.value.date,"MMMM/yyyy",{locale:"it"});e=_.month+"",c=_.year+""}else e=u.fromJSDate(new Date(o.value.date)).toFormat("M",{locale:"it"}),c=u.fromJSDate(new Date(o.value.date)).toFormat("yyyy",{locale:"it"});const m=new Map;m.set("month",e),m.set("year",c),await r.fetchAllDashboard(m).then(()=>{p()}).catch(_=>{p(),k(y,_)})};return{form:o,dashboards:b,fetchAllDashboard:h}}});const G={class:"dashboard"},N=n("h1",null,"Dashboard",-1),$={key:0,class:"flex align-items-center"},L={class:"field col-2 flex flex-column"},T=n("label",null,"Data",-1),q={key:1},z={class:"flex align-items-center flex-wrap"},I={class:"col-4"},J={class:"col-4"},P={class:"col-4"},U={key:0},E={key:1},j={class:"col-4"},H={key:0},K={key:1},O={class:"col-4"},Q={key:0},R={key:1},W={class:"col-4"},X={key:0},Y={key:1},Z={class:"col-4"},x={key:0},oo={key:1},to={class:"col-4"},ao={key:0},so={key:1},eo={class:"col-4"},no={key:0},io={key:1},lo={class:"col-4"},ro={key:0},co={key:1},ho={class:"col-4"},_o={key:0},uo={key:1},po={class:"col-4"},mo={key:0},vo={key:1},yo={class:"col-4"},bo={key:0},fo={key:1};function Co(o,r,v,p,y,b){const h=f("Calendar"),e=f("Card");return a(),s("div",G,[N,o.form?(a(),s("div",$,[n("div",L,[T,i(h,{modelValue:o.form.date,"onUpdate:modelValue":[r[0]||(r[0]=c=>o.form.date=c),r[1]||(r[1]=c=>o.fetchAllDashboard())],view:"month",dateFormat:"MM/yy"},null,8,["modelValue"])])])):C("",!0),o.dashboards?(a(),s("div",q,[n("div",z,[n("div",I,[i(e,null,{title:t(()=>[d(" Prenotazioni totali mese ")]),content:t(()=>[d(l(o.dashboards.orders_total_month||"-"),1)]),_:1})]),n("div",J,[i(e,null,{title:t(()=>[d(" Visitatori totali mese ")]),content:t(()=>[d(l(o.dashboards.quantity_total_month||"-"),1)]),_:1})]),n("div",P,[i(e,null,{title:t(()=>[d(" Fatturato totale mese ")]),content:t(()=>[o.dashboards.total_month?(a(),s("span",U," € "+l((+o.dashboards.total_month).toFixed(2)||"-"),1)):(a(),s("span",E," 0 "))]),_:1})]),n("div",j,[i(e,null,{title:t(()=>[d(" Fatturato Vicoforte - Magnificat ")]),content:t(()=>[o.dashboards.vicoforte?(a(),s("span",H,"€ "+l((+o.dashboards.vicoforte).toFixed(2)),1)):(a(),s("span",K,"0"))]),_:1})]),n("div",O,[i(e,null,{title:t(()=>[d(" Fatturato Castello di Casotto - Garessio ")]),content:t(()=>[o.dashboards.casotto?(a(),s("span",Q,"€ "+l((+o.dashboards.casotto).toFixed(2)),1)):(a(),s("span",R,"0"))]),_:1})]),n("div",W,[i(e,null,{title:t(()=>[d(" Fatturato Basilica delle Vigne - Genova ")]),content:t(()=>[o.dashboards.vigne?(a(),s("span",X,"€ "+l((+o.dashboards.vigne).toFixed(2)),1)):(a(),s("span",Y,"0"))]),_:1})]),n("div",Z,[i(e,null,{title:t(()=>[d(" Fatturato Cupola di San Gaudenzio - Novara ")]),content:t(()=>[o.dashboards.novara?(a(),s("span",x,"€ "+l((+o.dashboards.novara).toFixed(2)),1)):(a(),s("span",oo,"0"))]),_:1})]),n("div",to,[i(e,null,{title:t(()=>[d(" Fatturato Battistero della Cattedrale e Museo Diocesano - Padova ")]),content:t(()=>[o.dashboards.padova?(a(),s("span",ao,"€ "+l((+o.dashboards.padova).toFixed(2)),1)):(a(),s("span",so,"0"))]),_:1})]),n("div",eo,[i(e,null,{title:t(()=>[d(" Fatturato Basilica di Carignano - Genova ")]),content:t(()=>[o.dashboards.carignano?(a(),s("span",no,"€ "+l((+o.dashboards.carignano).toFixed(2)),1)):(a(),s("span",io,"0"))]),_:1})]),n("div",lo,[i(e,null,{title:t(()=>[d(" Fatturato Affreschi di Gentile da Fabriano - Brescia ")]),content:t(()=>[o.dashboards.brescia?(a(),s("span",ro,"€ "+l((+o.dashboards.brescia).toFixed(2)),1)):(a(),s("span",co,"0"))]),_:1})]),n("div",ho,[i(e,null,{title:t(()=>[d(" Fatturato Castello di Mombasiglio - Cuneo ")]),content:t(()=>[o.dashboards.cuneo?(a(),s("span",_o,"€ "+l((+o.dashboards.cuneo).toFixed(2)),1)):(a(),s("span",uo,"0"))]),_:1})]),n("div",po,[i(e,null,{title:t(()=>[d(" Fatturato Castello di Ivrea - Ivrea ")]),content:t(()=>[o.dashboards.ivrea?(a(),s("span",mo,"€ "+l((+o.dashboards.ivrea).toFixed(2)),1)):(a(),s("span",vo,"0"))]),_:1})]),n("div",yo,[i(e,null,{title:t(()=>[d(" Fatturato Basilica e Cupola di Sant'Andrea - Mantova ")]),content:t(()=>[o.dashboards.mantova?(a(),s("span",bo,"€ "+l((+o.dashboards.mantova).toFixed(2)),1)):(a(),s("span",fo,"0"))]),_:1})])])])):C("",!0)])}const Ao=B(S,[["render",Co]]);export{Ao as default};

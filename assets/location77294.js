import{y as n,V as l,B as r}from"../index77294.js";class s{static async fetchAll(){return(await n("/admin/locations")).data}static async downloadReport(t){return await l(`/admin/locations/${t.location_id}/orders/report`,t)}static async getCourses(t){return await n(`/admin/locations/${t}/courses`)}}const c=localStorage.getItem("location"),i=localStorage.getItem("locations"),p=c?JSON.parse(c):null,d=i?JSON.parse(i):null,S=r({id:"location",state:()=>({location:p,locations:d,response_locations:{}}),getters:{allLocations:o=>o.locations,responseLocations:o=>o.response_locations,getTotalLocations:o=>o.response_locations?o.response_locations.total:0,getCurrentLocation:o=>o.location},actions:{async fetchAllLocations(){await s.fetchAll().then(o=>{this.response_locations=o,this.locations=o.banners,localStorage.setItem("locations",JSON.stringify(o.banners)),localStorage.setItem("location",JSON.stringify(o.banners[0]))})},updateCurrenLocation(o){this.location=o,localStorage.setItem("location",JSON.stringify(o))},async downloadReport(o){await s.downloadReport(o).then(t=>{const e=new Blob([t.data],{type:t.headers["content-type"]}),a=document.createElement("a");a.href=window.URL.createObjectURL(e),a.download="Report-"+o.location_permalink+".xlsx",a.click()})}}});export{S as u};

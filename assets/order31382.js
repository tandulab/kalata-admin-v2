import{y as n,z as d,U as o,B as i}from"../index31382.js";class r{static async fetchAll(a){const t=a.get("location_id");return a.delete("location_id"),(await n(`/admin/locations/${t}/orders`,a)).data}static async fetchAllReveliaOrders(a){return(await n("/admin/orders",a)).data}static async deleteOrder(a){return await d(`/admin/orders/${a.order_id}/events/${a.event_id}/cancel`)}static async downloadOrderPDF(a){return await o(`/admin/orders/${a.order_id}/events/${a.event_id}/download`)}static async downloadOrderCsv(a){return await o(`/admin/orders?format=csv&attraction_id=${a}`)}}const c=i({id:"order",state:()=>({order:{},orders:[],response_orders:{},total_orders:Number,calendar:{},discount:{},response:{}}),getters:{allOrders:e=>e.response_orders.orders,responseOrders:e=>e.response_orders,getTotalOrders:e=>e.response_orders?e.response_orders.total:0,getCurrentOrder:e=>e.order,status:()=>[{name:"Attivo",value:"true"},{name:"Disattivo",value:"false"}],getCalendar:e=>e.calendar,getDiscount:e=>e.discount,paymentStatus:()=>[{id:"to_pay",name:"Da pagare"},{id:"payed",name:"Pagato"},{id:"free",name:"Gratuito"}],paymentStatusRevelia:()=>[{id:"pending_payment",name:"In attesa di pagamento"},{id:"paid",name:"Pagato"},{id:"not_paid",name:"Non pagato"},{id:"canceled",name:"Cancellato"}],paymentModeList:()=>[{label:"Digitale (POS)",id:"credit_card"},{label:"Digitale (Satispay)",id:"satispay"},{label:"Ecommerce",id:"ecommerce"},{label:"Contanti",id:"cash"},{label:"Bonifico",id:"credit_transfer"},{label:"Biglietto a data aperta (voucher)",id:"voucher"}],getDeleteResponse:e=>e.response},actions:{async fetchAllOrders(e){await r.fetchAll(e).then(a=>this.response_orders=a)},async fetchAllReveliaOrders(e){await r.fetchAllReveliaOrders(e).then(a=>this.response_orders=a)},async deleteOrder(e){await r.deleteOrder(e)},async downloadOrderPDF(e){await r.downloadOrderPDF(e).then(a=>{const t=new Blob([a.data],{type:"application/pdf"}),s=URL.createObjectURL(t);window.open(s,"_blank")})},async downloadOrderCsv(e){await r.downloadOrderCsv(e).then(a=>{const t=new Blob([a.data],{type:"text/csv;charset=utf-8"}),s=URL.createObjectURL(t);window.open(s,"_blank")})}}});export{c as u};

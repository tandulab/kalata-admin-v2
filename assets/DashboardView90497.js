import{D as u}from"./datetime90497.js";import{u as k,e as F}from"./helpers90497.js";import{u as g}from"./dashboard90497.js";import{d as D,o as M,l as A,a as w,c as V,_ as S,r as f,b as t,e as s,g as n,f as i,q as C,w as a,h as d,t as l}from"../index90497.js";const B=D({setup(){M(()=>{o.value.date=u.now().setLocale("it").toFormat("MMMM/yyyy").replace(/^\w/,e=>e.toUpperCase()),h()});const o=A({}),r=g(),{showLoader:v,hideLoader:p}=k(),y=w(),b=V(()=>r.allDashboards),h=async function(){v();let e="",c="";if(o.value.date&&o.value.date.toString().includes("/")){let _=u.fromFormat(o.value.date,"MMMM/yyyy",{locale:"it"});e=_.month+"",c=_.year+""}else e=u.fromJSDate(new Date(o.value.date)).toFormat("M",{locale:"it"}),c=u.fromJSDate(new Date(o.value.date)).toFormat("yyyy",{locale:"it"});const m=new Map;m.set("month",e),m.set("year",c),await r.fetchAllDashboard(m).then(()=>{p()}).catch(_=>{p(),F(y,_)})};return{form:o,dashboards:b,fetchAllDashboard:h}}});const G={class:"dashboard"},N=n("h1",null,"Dashboard",-1),$={key:0,class:"flex align-items-center"},L={class:"field col-2 flex flex-column"},T=n("label",null,"Data",-1),q={key:1},z={class:"flex align-items-center flex-wrap"},I={class:"col-4"},J={class:"col-4"},P={class:"col-4"},R={key:0},U={key:1},E={class:"col-4"},j={key:0},H={key:1},K={class:"col-4"},O={key:0},Q={key:1},W={class:"col-4"},X={key:0},Y={key:1},Z={class:"col-4"},x={key:0},oo={key:1},ao={class:"col-4"},to={key:0},so={key:1},eo={class:"col-4"},no={key:0},io={key:1},lo={class:"col-4"},ro={key:0},co={key:1},ho={class:"col-4"},_o={key:0},uo={key:1},po={class:"col-4"},mo={key:0},vo={key:1},yo={class:"col-4"},bo={key:0},fo={key:1},Co={class:"col-4"},ko={key:0},Fo={key:1};function go(o,r,v,p,y,b){const h=f("Calendar"),e=f("Card");return t(),s("div",G,[N,o.form?(t(),s("div",$,[n("div",L,[T,i(h,{modelValue:o.form.date,"onUpdate:modelValue":[r[0]||(r[0]=c=>o.form.date=c),r[1]||(r[1]=c=>o.fetchAllDashboard())],view:"month",dateFormat:"MM/yy"},null,8,["modelValue"])])])):C("",!0),o.dashboards?(t(),s("div",q,[n("div",z,[n("div",I,[i(e,null,{title:a(()=>[d(" Prenotazioni totali mese ")]),content:a(()=>[d(l(o.dashboards.orders_total_month||"-"),1)]),_:1})]),n("div",J,[i(e,null,{title:a(()=>[d(" Visitatori totali mese ")]),content:a(()=>[d(l(o.dashboards.quantity_total_month||"-"),1)]),_:1})]),n("div",P,[i(e,null,{title:a(()=>[d(" Fatturato totale mese ")]),content:a(()=>[o.dashboards.total_month?(t(),s("span",R," € "+l((+o.dashboards.total_month).toFixed(2)||"-"),1)):(t(),s("span",U," 0 "))]),_:1})]),n("div",E,[i(e,null,{title:a(()=>[d(" Fatturato Vicoforte - Magnificat ")]),content:a(()=>[o.dashboards.vicoforte?(t(),s("span",j,"€ "+l((+o.dashboards.vicoforte).toFixed(2)),1)):(t(),s("span",H,"0"))]),_:1})]),n("div",K,[i(e,null,{title:a(()=>[d(" Fatturato Castello di Casotto - Garessio ")]),content:a(()=>[o.dashboards.casotto?(t(),s("span",O,"€ "+l((+o.dashboards.casotto).toFixed(2)),1)):(t(),s("span",Q,"0"))]),_:1})]),n("div",W,[i(e,null,{title:a(()=>[d(" Fatturato Basilica delle Vigne - Genova ")]),content:a(()=>[o.dashboards.vigne?(t(),s("span",X,"€ "+l((+o.dashboards.vigne).toFixed(2)),1)):(t(),s("span",Y,"0"))]),_:1})]),n("div",Z,[i(e,null,{title:a(()=>[d(" Fatturato Cupola di San Gaudenzio - Novara ")]),content:a(()=>[o.dashboards.novara?(t(),s("span",x,"€ "+l((+o.dashboards.novara).toFixed(2)),1)):(t(),s("span",oo,"0"))]),_:1})]),n("div",ao,[i(e,null,{title:a(()=>[d(" Fatturato Battistero della Cattedrale e Museo Diocesano - Padova ")]),content:a(()=>[o.dashboards.padova?(t(),s("span",to,"€ "+l((+o.dashboards.padova).toFixed(2)),1)):(t(),s("span",so,"0"))]),_:1})]),n("div",eo,[i(e,null,{title:a(()=>[d(" Fatturato Basilica di Carignano - Genova ")]),content:a(()=>[o.dashboards.carignano?(t(),s("span",no,"€ "+l((+o.dashboards.carignano).toFixed(2)),1)):(t(),s("span",io,"0"))]),_:1})]),n("div",lo,[i(e,null,{title:a(()=>[d(" Fatturato Affreschi di Gentile da Fabriano - Brescia ")]),content:a(()=>[o.dashboards.brescia?(t(),s("span",ro,"€ "+l((+o.dashboards.brescia).toFixed(2)),1)):(t(),s("span",co,"0"))]),_:1})]),n("div",ho,[i(e,null,{title:a(()=>[d(" Fatturato Castello di Mombasiglio - Cuneo ")]),content:a(()=>[o.dashboards.cuneo?(t(),s("span",_o,"€ "+l((+o.dashboards.cuneo).toFixed(2)),1)):(t(),s("span",uo,"0"))]),_:1})]),n("div",po,[i(e,null,{title:a(()=>[d(" Fatturato Castello di Ivrea - Ivrea ")]),content:a(()=>[o.dashboards.ivrea?(t(),s("span",mo,"€ "+l((+o.dashboards.ivrea).toFixed(2)),1)):(t(),s("span",vo,"0"))]),_:1})]),n("div",yo,[i(e,null,{title:a(()=>[d(" Fatturato Basilica e Cupola di Sant'Andrea - Mantova ")]),content:a(()=>[o.dashboards.mantova?(t(),s("span",bo,"€ "+l((+o.dashboards.mantova).toFixed(2)),1)):(t(),s("span",fo,"0"))]),_:1})]),n("div",Co,[i(e,null,{title:a(()=>[d(" Racconigi - Castello - Margaria e Serre Reali ")]),content:a(()=>[o.dashboards.racconigi?(t(),s("span",ko,"€ "+l((+o.dashboards.racconigi).toFixed(2)),1)):(t(),s("span",Fo,"0"))]),_:1})])])])):C("",!0)])}const Vo=S(B,[["render",go]]);export{Vo as default};

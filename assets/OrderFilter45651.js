import{u as F}from"./location45651.js";import{D as S}from"./datetime45651.js";import{u as I}from"./order45651.js";import{u as w}from"./attraction45651.js";import{o as C,l as U,c as p,i as b,_ as g,r as d,b as v,v as V,w as A,f as s,g as l}from"../index45651.js";const k={props:["revelia"],setup(u,t){C(()=>{r()});const a=U({}),o=F(),f=w(),y=I(),n=p(()=>o.allLocations),i=p(()=>f.allAttractions),m=p(()=>y.paymentStatus),r=function(){u.revelia?L():n.value?(a.value.location=n.value[0],c()):e()},c=function(){const x=S.local(),h=x.minus({months:1}).startOf("month");a.value.date_from=h.toFormat("dd/LL/yyyy"),a.value.date_to=x.toFormat("dd/LL/yyyy"),a.value.status=null,a.value.code="",a.value.user="",t.emit("onSubmit",a.value)},_=function(){r()},e=async function(){await o.fetchAllLocations()},L=async function(){await f.fetchAllAttractions()};return b(n,()=>{a.value.location_id=n.value[0].id,c()}),b(i,()=>{a.value.attraction_id=i.value[0].id,c()}),{form:a,locations:n,attractions:i,statuses:m,resetForm:_}}},D={class:"formgrid grid px-0 align-items-center"},T={class:"field col-3 flex flex-column"},B=l("label",{for:"typology"},"Location",-1),O={class:"field col-2"},M=l("label",{from:"date_from"},"Dal",-1),N={class:"field col-2"},R=l("label",{from:"date_to"},"Al",-1),j={class:"field col-3 flex flex-column"},q=l("label",{from:"status"},"Codice prenotazione",-1),z={class:"field col-3 flex flex-column"},E=l("label",{from:"status"},"Acquirente",-1),G={class:"field col-2 flex flex-column"},H=l("label",{from:"status"},"Stato pagamento",-1),J={class:"flex col-12 justify-content-end pt-1"};function K(u,t,a,o,f,y){const n=d("Dropdown"),i=d("Calendar"),m=d("InputText"),r=d("Button"),c=d("AccordionTab"),_=d("Accordion");return v(),V(_,{activeIndex:0},{default:A(()=>[s(c,{header:"FILTRI"},{default:A(()=>[l("div",D,[l("div",T,[B,a.revelia?(v(),V(n,{key:1,modelValue:o.form.attraction_id,"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.attraction_id=e),options:o.attractions,optionLabel:"name",optionValue:"id",placeholder:""},null,8,["modelValue","options"])):(v(),V(n,{key:0,modelValue:o.form.location,"onUpdate:modelValue":t[0]||(t[0]=e=>o.form.location=e),options:o.locations,optionLabel:"name",placeholder:""},null,8,["modelValue","options"]))]),l("div",O,[M,s(i,{inputId:"date_from",modelValue:o.form.date_from,"onUpdate:modelValue":t[2]||(t[2]=e=>o.form.date_from=e),dateFormat:"dd/mm/yy",manualInput:!1,placeholder:""},null,8,["modelValue"])]),l("div",N,[R,s(i,{inputId:"date_to",modelValue:o.form.date_to,"onUpdate:modelValue":t[3]||(t[3]=e=>o.form.date_to=e),dateFormat:"dd/mm/yy",manualInput:!1,placeholder:""},null,8,["modelValue"])]),l("div",j,[q,s(m,{type:"text",modelValue:o.form.code,"onUpdate:modelValue":t[4]||(t[4]=e=>o.form.code=e)},null,8,["modelValue"])]),l("div",z,[E,s(m,{type:"text",modelValue:o.form.user,"onUpdate:modelValue":t[5]||(t[5]=e=>o.form.user=e)},null,8,["modelValue"])]),l("div",G,[H,s(n,{id:"status",modelValue:o.form.status,"onUpdate:modelValue":t[6]||(t[6]=e=>o.form.status=e),options:o.statuses,optionLabel:"name",optionValue:"id",placeholder:""},null,8,["modelValue","options"])])]),l("div",J,[s(r,{label:"Ricerca",class:"mr-2",onClick:t[7]||(t[7]=e=>u.$emit("onSubmit",o.form))}),s(r,{label:"Annulla",class:"p-button-outlined",onClick:t[8]||(t[8]=e=>o.resetForm())})])]),_:1})]),_:1})}const Z=g(k,[["render",K]]);export{Z as O};
